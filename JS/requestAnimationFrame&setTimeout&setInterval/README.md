# setTimeout vs setInterval vs requestAnimationFrame

## 前置知识
### 1. 计算机屏幕刷新率与浏览器重绘次数
- 屏幕刷新率指`1s`内屏幕刷新的次数。
- 一般的电脑的屏幕刷新率为`1s 60次`(`1000ms / 60 ≈ 16.7ms` | `60FPS`)，也就是每`16.7ms`会刷新一下屏幕。当然此数值受到分辨率、显卡、屏幕尺寸等其他因素的影响。
- 由于一般的电脑的刷新频率是`60FPS`，所以大多数浏览器会限制其重绘次数，一般不会超过计算机的重绘次数，因为即使超过了其频率，用户的体验也不会得到提升。

### 2. 动画是如何形成的？
动画是由于肉眼导致的视觉残留，通过连续播放的静态图像形成的动态幻觉。**当`1s`中连续播放24张图片时(`24FPS`)，即可形成流畅的动画**。

### 3.web实现动画的方式
- `css`：`animation`、`transition`
- `js`: `setTimeout`、`setInteval`
- `html`: `canvas`、`svg`
- `requestAnimationFrame`等...

本文将重点介绍`setTimeout`、`setInterval`、`requestAnimationFrame`这三种`API`。
## setInterval
`setInterval`方法按照指定的周期（毫秒）来调用函数或计算表达式。

### 参数
- `function/code`
    - 【必需】要重复调用的函数/字符串。当为字符串时，会被编译为`js`代码执行。
- `delay`
    - 【必需】周期性调用`function/code`的时间间隔，以毫秒计数。
    - 注：`HTML5`规定，执行时间间隔最小为`10`当小于`10`时，默认为`10`。
- `args1... argsN`
    - 【非必需】传递给执行函数的参数
### 缺点
#### 存在无用调用，浪费性能
会一直不停的执行函数，**即使将浏览器最小化，或者切换到另一个`tab`，定时器还依旧会继续在后台执行**。除非关闭网页才会停止调用。
#### 忽略错误代码，即使出错还会调用
`setInterval`中执行的代码如果出错，不会停止运行，而是继续调用。
#### 无法保证调用的时间间隔
如果调用的函数需要花费很大时间执行，某些处于中间的调用会被忽略。
